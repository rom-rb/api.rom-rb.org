<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: ROM::Command
  
    &mdash; Documentation by YARD 0.9.24
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "ROM::Command";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../ROM.html" title="ROM (module)">ROM</a></span></span>
     &raquo; 
    <span class="title">Command</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: ROM::Command
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ROM::Command</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  <dl>
      <dt>Extended by:</dt>
      <dd>Dry::Core::ClassAttributes, <span class='object_link'><a href="Command/ClassInterface.html" title="ROM::Command::ClassInterface (module)">ClassInterface</a></span></dd>
  </dl>
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Commands.html" title="ROM::Commands (module)">Commands</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/rom/command.rb<span class="defines">,<br />
  lib/rom/commands/class_interface.rb</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Base command class with factory class-level interface and setup-related logic</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="Commands/Create.html" title="ROM::Commands::Create (class)">ROM::Commands::Create</a></span>, <span class='object_link'><a href="Commands/Delete.html" title="ROM::Commands::Delete (class)">ROM::Commands::Delete</a></span>, <span class='object_link'><a href="Commands/Update.html" title="ROM::Commands::Update (class)">ROM::Commands::Update</a></span></p>
</div>
<h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Command/ClassInterface.html" title="ROM::Command::ClassInterface (module)">ClassInterface</a></span>
    
  
    
  
</p>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="CommandType-constant" class="">CommandType =
          <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'><span class='object_link'><a href="Types.html" title="ROM::Types (module)">Types</a></span></span><span class='op'>::</span><span class='const'>Strict</span><span class='op'>::</span><span class='const'>Symbol</span><span class='period'>.</span><span class='id identifier rubyid_enum'>enum</span><span class='lparen'>(</span><span class='symbol'>:create</span><span class='comma'>,</span> <span class='symbol'>:update</span><span class='comma'>,</span> <span class='symbol'>:delete</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="Result-constant" class="">Result =
          <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'><span class='object_link'><a href="Types.html" title="ROM::Types (module)">Types</a></span></span><span class='op'>::</span><span class='const'>Strict</span><span class='op'>::</span><span class='const'>Symbol</span><span class='period'>.</span><span class='id identifier rubyid_enum'>enum</span><span class='lparen'>(</span><span class='symbol'>:one</span><span class='comma'>,</span> <span class='symbol'>:many</span><span class='rparen'>)</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#after-instance_method" title="#after (instance method)">#<strong>after</strong>(*hooks)  &#x21d2; Command </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return a new command with appended after hooks.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#before-instance_method" title="#before (instance method)">#<strong>before</strong>(*hooks)  &#x21d2; Command </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return a new command with appended before hooks.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#curry_args-instance_method" title="#curry_args (instance method)">#<strong>curry_args</strong>  &#x21d2; Array </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Curried args.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#input-instance_method" title="#input (instance method)">#<strong>input</strong>  &#x21d2; Proc, #call </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tuple processing function, typically uses Relation#input_schema.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#relation-instance_method" title="#relation (instance method)">#<strong>relation</strong>  &#x21d2; Relation </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Command&#39;s relation.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#result-instance_method" title="#result (instance method)">#<strong>result</strong>  &#x21d2; Symbol </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Result type, either :one or :many.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#source-instance_method" title="#source (instance method)">#<strong>source</strong>  &#x21d2; Relation </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The source relation.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#type-instance_method" title="#type (instance method)">#<strong>type</strong>  &#x21d2; Symbol </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The command type, one of :create, :update or :delete.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#[]-class_method" title="#[] (class method)">.<strong>[]</strong>(adapter)  &#x21d2; Class </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      extended
      from <span class='object_link'><a href="Command/ClassInterface.html#[]-class_method" title="ROM::Command::ClassInterface#[] (method)">ClassInterface</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return adapter specific sub-class based on the adapter identifier.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#adapter-class_method" title="adapter (class method)">.<strong>adapter</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get or set adapter identifier.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#after-class_method" title="#after (class method)">.<strong>after</strong>(*hooks)  &#x21d2; Array&lt;Hash, Symbol&gt; </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      extended
      from <span class='object_link'><a href="Command/ClassInterface.html#after-class_method" title="ROM::Command::ClassInterface#after (method)">ClassInterface</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set after-execute hooks.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#before-class_method" title="#before (class method)">.<strong>before</strong>(*hooks)  &#x21d2; Array&lt;Hash, Symbol&gt; </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      extended
      from <span class='object_link'><a href="Command/ClassInterface.html#before-class_method" title="ROM::Command::ClassInterface#before (method)">ClassInterface</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set before-execute hooks.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build-class_method" title="#build (class method)">.<strong>build</strong>(relation, options = EMPTY_HASH)  &#x21d2; Command </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      extended
      from <span class='object_link'><a href="Command/ClassInterface.html#build-class_method" title="ROM::Command::ClassInterface#build (method)">ClassInterface</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Build a command class for a specific relation with options.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_class-class_method" title="#create_class (class method)">.<strong>create_class</strong>(name, type) {|Class| ... } &#x21d2; Class, Object </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      extended
      from <span class='object_link'><a href="Command/ClassInterface.html#create_class-class_method" title="ROM::Command::ClassInterface#create_class (method)">ClassInterface</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a command class with a specific type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extend_for_relation-class_method" title="#extend_for_relation (class method)">.<strong>extend_for_relation</strong>(relation)  &#x21d2; Class </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      extended
      from <span class='object_link'><a href="Command/ClassInterface.html#extend_for_relation-class_method" title="ROM::Command::ClassInterface#extend_for_relation (method)">ClassInterface</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Extend a command class with relation view methods.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#register_as-class_method" title="register_as (class method)">.<strong>register_as</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get or set identifier that should be used to register a command in a container.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#relation-class_method" title="relation (class method)">.<strong>relation</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get or set input processing function.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#restrictable-class_method" title="restrictable (class method)">.<strong>restrictable</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use-class_method" title="#use (class method)">.<strong>use</strong>(plugin, _options = EMPTY_HASH)  &#x21d2; Object </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      extended
      from <span class='object_link'><a href="Command/ClassInterface.html#use-class_method" title="ROM::Command::ClassInterface#use (method)">ClassInterface</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Use a configured plugin in this relation.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#after_hooks-instance_method" title="#after_hooks (instance method)">#<strong>after_hooks</strong>  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List of after hooks.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#before_hooks-instance_method" title="#before_hooks (instance method)">#<strong>before_hooks</strong>  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List of before hooks.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#call-instance_method" title="#call (instance method)">#<strong>call</strong>(*args, &amp;block)  &#x21d2; Object </a>
    

    
      (also: #[])
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Call the command and return one or many tuples.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#combine-instance_method" title="#combine (instance method)">#<strong>combine</strong>(*others)  &#x21d2; Command::Graph </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Compose this command with other commands.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#curried%3F-instance_method" title="#curried? (instance method)">#<strong>curried?</strong>  &#x21d2; TrueClass, FalseClass </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Check if this command is curried.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#curry-instance_method" title="#curry (instance method)">#<strong>curry</strong>(*args)  &#x21d2; Command, Lazy </a>
    

    
      (also: #with)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Curry this command with provided args.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gateway-instance_method" title="#gateway (instance method)">#<strong>gateway</strong>  &#x21d2; Symbol </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return gateway of this command&#39;s relation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  &#x21d2; ROM::Relation::Name </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return name of this command&#39;s relation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new-instance_method" title="#new (instance method)">#<strong>new</strong>(new_relation)  &#x21d2; Command </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return a new command with other source relation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with_opts-instance_method" title="#with_opts (instance method)">#<strong>with_opts</strong>(new_opts)  &#x21d2; Command </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return a new command with new options.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="after-instance_method">
  
    #<strong>after</strong>(*hooks)  &#x21d2; <tt><span class='object_link'><a href="" title="ROM::Command (class)">Command</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return a new command with appended after hooks</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>hooks</span>
      
      
        <span class='type'>(<tt>Array&lt;Hash&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A list of after hooks configurations</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="ROM::Command (class)">Command</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


227</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 227</span>

<span class='id identifier rubyid_option'>option</span> <span class='symbol'>:after</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="Types.html" title="ROM::Types (module)">Types</a></span></span><span class='op'>::</span><span class='const'>Coercible</span><span class='op'>::</span><span class='const'>Array</span><span class='comma'>,</span> <span class='label'>reader:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tlambda'>-&gt;</span> <span class='tlambeg'>{</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_after'>after</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="before-instance_method">
  
    #<strong>before</strong>(*hooks)  &#x21d2; <tt><span class='object_link'><a href="" title="ROM::Command (class)">Command</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return a new command with appended before hooks</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>hooks</span>
      
      
        <span class='type'>(<tt>Array&lt;Hash&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A list of before hooks configurations</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="ROM::Command (class)">Command</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


223</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 223</span>

<span class='id identifier rubyid_option'>option</span> <span class='symbol'>:before</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="Types.html" title="ROM::Types (module)">Types</a></span></span><span class='op'>::</span><span class='const'>Coercible</span><span class='op'>::</span><span class='const'>Array</span><span class='comma'>,</span> <span class='label'>reader:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tlambda'>-&gt;</span> <span class='tlambeg'>{</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_before'>before</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="curry_args-instance_method">
  
    #<strong>curry_args</strong>  &#x21d2; <tt>Array</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns Curried args.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Curried args</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


219</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 219</span>

<span class='id identifier rubyid_option'>option</span> <span class='symbol'>:curry_args</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tlambda'>-&gt;</span> <span class='tlambeg'>{</span> <span class='const'>EMPTY_ARRAY</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="input-instance_method">
  
    #<strong>input</strong>  &#x21d2; <tt>Proc</tt>, <tt>#<span class='object_link'><a href="#call-instance_method" title="ROM::Command#call (method)">call</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns Tuple processing function, typically uses Relation#input_schema.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Proc</tt>, <tt>#<span class='object_link'><a href="#call-instance_method" title="ROM::Command#call (method)">call</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Tuple processing function, typically uses Relation#input_schema</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 215</span>

<span class='id identifier rubyid_option'>option</span> <span class='symbol'>:input</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="relation-instance_method">
  
    #<strong>relation</strong>  &#x21d2; <tt><span class='object_link'><a href="Relation.html" title="ROM::Relation (class)">Relation</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns Command&#39;s relation.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Relation.html" title="ROM::Relation (class)">Relation</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Command&#39;s relation</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


196</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 196</span>

<span class='id identifier rubyid_param'>param</span> <span class='symbol'>:relation</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="result-instance_method">
  
    #<strong>result</strong>  &#x21d2; <tt>Symbol</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns Result type, either :one or :many.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Result type, either :one or :many</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


211</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 211</span>

<span class='id identifier rubyid_option'>option</span> <span class='symbol'>:result</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='const'><span class='object_link'><a href="#Result-constant" title="ROM::Command::Result (constant)">Result</a></span></span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="source-instance_method">
  
    #<strong>source</strong>  &#x21d2; <tt><span class='object_link'><a href="Relation.html" title="ROM::Relation (class)">Relation</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns The source relation.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Relation.html" title="ROM::Relation (class)">Relation</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The source relation</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


207</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 207</span>

<span class='id identifier rubyid_option'>option</span> <span class='symbol'>:source</span><span class='comma'>,</span> <span class='label'>default:</span> <span class='tlambda'>-&gt;</span> <span class='tlambeg'>{</span> <span class='id identifier rubyid_relation'>relation</span> <span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="type-instance_method">
  
    #<strong>type</strong>  &#x21d2; <tt>Symbol</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns The command type, one of :create, :update or :delete.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The command type, one of :create, :update or :delete</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


203</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 203</span>

<span class='id identifier rubyid_option'>option</span> <span class='symbol'>:type</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='const'><span class='object_link'><a href="#CommandType-constant" title="ROM::Command::CommandType (constant)">CommandType</a></span></span><span class='comma'>,</span> <span class='label'>optional:</span> <span class='kw'>true</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="[]-class_method">
  
    .<strong>[]</strong>(adapter)  &#x21d2; <tt>Class</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Command/ClassInterface.html#[]-class_method" title="ROM::Command::ClassInterface#[] (method)">ClassInterface</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return adapter specific sub-class based on the adapter identifier</p>

<p>This is a syntax sugar to make things consistent</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../ROM.html" title="ROM (module)">ROM</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands.html" title="ROM::Commands (module)">Commands</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands/Create.html" title="ROM::Commands::Create (class)">Create</a></span></span><span class='lbracket'>[</span><span class='symbol'>:memory</span><span class='rbracket'>]</span>
<span class='comment'># =&gt; ROM::Memory::Commands::Create</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>adapter</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>identifier</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Class</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="adapter-class_method">
  
    
      <span class="overload">.<strong>adapter</strong>  &#x21d2; <tt>Symbol</tt> </span>
    
      <span class="overload">.<strong>adapter</strong>(identifier)  &#x21d2; <tt>Object</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get or set adapter identifier</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>adapter</strong>  &#x21d2; <tt>Symbol</tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Get adapter identifier</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../ROM.html" title="ROM (module)">ROM</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Memory.html" title="ROM::Memory (module)">Memory</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Memory/Commands.html" title="ROM::Memory::Commands (module)">Commands</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Memory/Commands/Create.html" title="ROM::Memory::Commands::Create (class)">Create</a></span></span><span class='period'>.</span><span class='id identifier rubyid_adapter'>adapter</span>
<span class='comment'># =&gt; :memory</span></code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>adapter</strong>(identifier)  &#x21d2; <tt>Object</tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Set adapter identifier. This must always match actual adapter identifier that was used to register an adapter.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='kw'>module</span> <span class='const'>MyAdapter</span>
  <span class='kw'>class</span> <span class='const'>CreateCommand</span> <span class='op'>&lt;</span> <span class='const'><span class='object_link'><a href="../ROM.html" title="ROM (module)">ROM</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands.html" title="ROM::Commands (module)">Commands</a></span></span><span class='op'>::</span><span class='const'>Memory</span><span class='op'>::</span><span class='const'>Create</span>
    <span class='id identifier rubyid_adapter'>adapter</span> <span class='symbol'>:my_adapter</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
  </div>


</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 58</span>

<span class='id identifier rubyid_defines'>defines</span> <span class='symbol'>:adapter</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="after-class_method">
  
    
      <span class="overload">#<strong>after</strong>(hook)  &#x21d2; <tt>Array&lt;Hash, Symbol&gt;</tt> </span>
    
      <span class="overload">#<strong>after</strong>(hook_opts)  &#x21d2; <tt>Array&lt;Hash, Symbol&gt;</tt> </span>
    
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Command/ClassInterface.html#after-class_method" title="ROM::Command::ClassInterface#after (method)">ClassInterface</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Set after-execute hooks</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>after</strong>(hook)  &#x21d2; <tt>Array&lt;Hash, Symbol&gt;</tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Set an after hook as a method name</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>class CreateUser &lt; ROM::Commands::Create[:sql]
  relation :users
  register_as :create

  after :my_hook

  def my_hook(tuple, *)
    puts &quot;hook called#
  end
end</code></pre>
    
  </div>


</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>after</strong>(hook_opts)  &#x21d2; <tt>Array&lt;Hash, Symbol&gt;</tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Set an after hook as a method name with arguments</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='kw'>class</span> <span class='const'>CreateUser</span> <span class='op'>&lt;</span> <span class='const'><span class='object_link'><a href="../ROM.html" title="ROM (module)">ROM</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands.html" title="ROM::Commands (module)">Commands</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands/Create.html" title="ROM::Commands::Create (class)">Create</a></span></span><span class='lbracket'>[</span><span class='symbol'>:sql</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_relation'>relation</span> <span class='symbol'>:users</span>
  <span class='id identifier rubyid_register_as'>register_as</span> <span class='symbol'>:create</span>

  <span class='id identifier rubyid_after'>after</span> <span class='label'>my_hook:</span> <span class='lbrace'>{</span> <span class='label'>arg1:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>arg1:</span> <span class='int'>2</span> <span class='rbrace'>}</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_my_hook'>my_hook</span><span class='lparen'>(</span><span class='id identifier rubyid_tuple'>tuple</span><span class='comma'>,</span> <span class='label'>arg1:</span><span class='comma'>,</span> <span class='label'>arg2:</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hook called with args: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg1'>arg1</span><span class='embexpr_end'>}</span><span class='tstring_content'> and </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg2'>arg2</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>hook</span>
      
      
        <span class='type'>(<tt>Hash&lt;Symbol=&gt;Hash&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Options with method name and pre-set args</p>
</div>
      
    </li>
  
</ul>


</div>
      </li>
    
  </ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Hash, Symbol&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A list of all configured after hooks</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="before-class_method">
  
    
      <span class="overload">#<strong>before</strong>(hook)  &#x21d2; <tt>Array&lt;Hash, Symbol&gt;</tt> </span>
    
      <span class="overload">#<strong>before</strong>(hook_opts)  &#x21d2; <tt>Array&lt;Hash, Symbol&gt;</tt> </span>
    
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Command/ClassInterface.html#before-class_method" title="ROM::Command::ClassInterface#before (method)">ClassInterface</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Set before-execute hooks</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>before</strong>(hook)  &#x21d2; <tt>Array&lt;Hash, Symbol&gt;</tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Set an before hook as a method name</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>class CreateUser &lt; ROM::Commands::Create[:sql]
  relation :users
  register_as :create

  before :my_hook

  def my_hook(tuple, *)
    puts &quot;hook called#
  end
end</code></pre>
    
  </div>


</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>before</strong>(hook_opts)  &#x21d2; <tt>Array&lt;Hash, Symbol&gt;</tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Set an before hook as a method name with arguments</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='kw'>class</span> <span class='const'>CreateUser</span> <span class='op'>&lt;</span> <span class='const'><span class='object_link'><a href="../ROM.html" title="ROM (module)">ROM</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands.html" title="ROM::Commands (module)">Commands</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands/Create.html" title="ROM::Commands::Create (class)">Create</a></span></span><span class='lbracket'>[</span><span class='symbol'>:sql</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_relation'>relation</span> <span class='symbol'>:users</span>
  <span class='id identifier rubyid_register_as'>register_as</span> <span class='symbol'>:create</span>

  <span class='id identifier rubyid_before'>before</span> <span class='label'>my_hook:</span> <span class='lbrace'>{</span> <span class='label'>arg1:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>arg1:</span> <span class='int'>2</span> <span class='rbrace'>}</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_my_hook'>my_hook</span><span class='lparen'>(</span><span class='id identifier rubyid_tuple'>tuple</span><span class='comma'>,</span> <span class='label'>arg1:</span><span class='comma'>,</span> <span class='label'>arg2:</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hook called with args: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg1'>arg1</span><span class='embexpr_end'>}</span><span class='tstring_content'> and </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg2'>arg2</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>hook</span>
      
      
        <span class='type'>(<tt>Hash&lt;Symbol=&gt;Hash&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Options with method name and pre-set args</p>
</div>
      
    </li>
  
</ul>


</div>
      </li>
    
  </ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Hash, Symbol&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A list of all configured before hooks</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="build-class_method">
  
    .<strong>build</strong>(relation, options = EMPTY_HASH)  &#x21d2; <tt><span class='object_link'><a href="" title="ROM::Command (class)">Command</a></span></tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Command/ClassInterface.html#build-class_method" title="ROM::Command::ClassInterface#build (method)">ClassInterface</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Build a command class for a specific relation with options</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='kw'>class</span> <span class='const'>CreateUser</span> <span class='op'>&lt;</span> <span class='const'><span class='object_link'><a href="../ROM.html" title="ROM (module)">ROM</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands.html" title="ROM::Commands (module)">Commands</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands/Create.html" title="ROM::Commands::Create (class)">Create</a></span></span><span class='lbracket'>[</span><span class='symbol'>:memory</span><span class='rbracket'>]</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_command'>command</span> <span class='op'>=</span> <span class='const'>CreateUser</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_rom'>rom</span><span class='period'>.</span><span class='id identifier rubyid_relations'>relations</span><span class='lbracket'>[</span><span class='symbol'>:users</span><span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>relation</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Relation.html" title="ROM::Relation (class)">Relation</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>EMPTY_HASH</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="ROM::Command (class)">Command</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_class-class_method">
  
    .<strong>create_class</strong>(name, type) {|Class| ... } &#x21d2; <tt>Class</tt>, <tt>Object</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Command/ClassInterface.html#create_class-class_method" title="ROM::Command::ClassInterface#create_class (method)">ClassInterface</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a command class with a specific type</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>command</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>parent</span>
      
      
        <span class='type'>(<tt>Class</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>class</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>Class</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>create class</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Class</tt>, <tt>Object</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>return result of the block if it was provided</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="extend_for_relation-class_method">
  
    .<strong>extend_for_relation</strong>(relation)  &#x21d2; <tt>Class</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Command/ClassInterface.html#extend_for_relation-class_method" title="ROM::Command::ClassInterface#extend_for_relation (method)">ClassInterface</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Extend a command class with relation view methods</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'></span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Relation.html" title="ROM::Relation (class)">Relation</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Class</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="register_as-class_method">
  
    
      <span class="overload">.<strong>register_as</strong>  &#x21d2; <tt>Symbol</tt> </span>
    
      <span class="overload">.<strong>register_as</strong>(identifier)  &#x21d2; <tt>Object</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get or set identifier that should be used to register a command in a container</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>register_as</strong>  &#x21d2; <tt>Symbol</tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Get registration identifier</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='kw'>class</span> <span class='const'>CreateUser</span> <span class='op'>&lt;</span> <span class='const'><span class='object_link'><a href="../ROM.html" title="ROM (module)">ROM</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands.html" title="ROM::Commands (module)">Commands</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands/Create.html" title="ROM::Commands::Create (class)">Create</a></span></span><span class='lbracket'>[</span><span class='symbol'>:memory</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_register_as'>register_as</span> <span class='symbol'>:create_user</span>
<span class='kw'>end</span>

<span class='const'>CreateUser</span><span class='period'>.</span><span class='id identifier rubyid_register_as'>register_as</span>
<span class='comment'># =&gt; :create_user</span></code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>register_as</strong>(identifier)  &#x21d2; <tt>Object</tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Set registration identifier</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='kw'>class</span> <span class='const'>CreateUser</span> <span class='op'>&lt;</span> <span class='const'><span class='object_link'><a href="../ROM.html" title="ROM (module)">ROM</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands.html" title="ROM::Commands (module)">Commands</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands/Create.html" title="ROM::Commands::Create (class)">Create</a></span></span><span class='lbracket'>[</span><span class='symbol'>:memory</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_register_as'>register_as</span> <span class='symbol'>:create_user</span>
<span class='kw'>end</span></code></pre>
    
  </div>


</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


167</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 167</span>

<span class='id identifier rubyid_defines'>defines</span> <span class='symbol'>:register_as</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="relation-class_method">
  
    
      <span class="overload">.<strong>input</strong>  &#x21d2; <tt>Proc</tt>, <tt>#<span class='object_link'><a href="#call-instance_method" title="ROM::Command#call (method)">call</a></span></tt> </span>
    
      <span class="overload">.<strong>input</strong>(identifier)  &#x21d2; <tt>Object</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get or set input processing function. This is typically set during setup to relation&#39;s input_schema</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>input</strong>  &#x21d2; <tt>Proc</tt>, <tt>#<span class='object_link'><a href="#call-instance_method" title="ROM::Command#call (method)">call</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Get input processing function</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>class CreateUser &lt; ROM::Commands::Create[:memory]
  input -&gt; tuple { .. }
end

CreateUser.input
# Your custom function</code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Proc</tt>, <tt>#<span class='object_link'><a href="#call-instance_method" title="ROM::Command#call (method)">call</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>input</strong>(identifier)  &#x21d2; <tt>Object</tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Set input processing function</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>class CreateUser &lt; ROM::Commands::Create[:memory]
  input -&gt; tuple { .. }
end</code></pre>
    
  </div>


</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


85</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 85</span>

<span class='id identifier rubyid_defines'>defines</span> <span class='symbol'>:relation</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="restrictable-class_method">
  
    
      <span class="overload">.<strong>restrictable</strong>  &#x21d2; <tt>FalseClass</tt>, <tt>TrueClass</tt> </span>
    
      <span class="overload">.<strong>restrictable</strong>(value)  &#x21d2; <tt>Object</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>restrictable</strong>  &#x21d2; <tt>FalseClass</tt>, <tt>TrueClass</tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Check if a command class is restrictable</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='kw'>class</span> <span class='const'>UpdateUser</span> <span class='op'>&lt;</span> <span class='const'><span class='object_link'><a href="../ROM.html" title="ROM (module)">ROM</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands.html" title="ROM::Commands (module)">Commands</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands/Update.html" title="ROM::Commands::Update (class)">Update</a></span></span><span class='lbracket'>[</span><span class='symbol'>:memory</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_restrictable'>restrictable</span> <span class='kw'>true</span>
<span class='kw'>end</span>

<span class='const'>CreateUser</span><span class='period'>.</span><span class='id identifier rubyid_restrictable'>restrictable</span>
<span class='comment'># =&gt; true</span></code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>FalseClass</tt>, <tt>TrueClass</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>restrictable</strong>(value)  &#x21d2; <tt>Object</tt> </span>
        <div class="docstring">
  <div class="discussion">
    
<p>Set if a command is restrictable</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='kw'>class</span> <span class='const'>UpdateUser</span> <span class='op'>&lt;</span> <span class='const'><span class='object_link'><a href="../ROM.html" title="ROM (module)">ROM</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands.html" title="ROM::Commands (module)">Commands</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands/Update.html" title="ROM::Commands::Update (class)">Update</a></span></span><span class='lbracket'>[</span><span class='symbol'>:memory</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_restrictable'>restrictable</span> <span class='kw'>true</span>
<span class='kw'>end</span></code></pre>
    
  </div>


</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


192</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 192</span>

<span class='id identifier rubyid_defines'>defines</span> <span class='symbol'>:restrictable</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use-class_method">
  
    .<strong>use</strong>(plugin, _options = EMPTY_HASH)  &#x21d2; <tt>Object</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class='object_link'><a href="Command/ClassInterface.html#use-class_method" title="ROM::Command::ClassInterface#use (method)">ClassInterface</a></span>
    </span>
  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Use a configured plugin in this relation</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='kw'>class</span> <span class='const'>CreateUser</span> <span class='op'>&lt;</span> <span class='const'><span class='object_link'><a href="../ROM.html" title="ROM (module)">ROM</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands.html" title="ROM::Commands (module)">Commands</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Commands/Create.html" title="ROM::Commands::Create (class)">Create</a></span></span><span class='lbracket'>[</span><span class='symbol'>:memory</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_use'>use</span> <span class='symbol'>:pagintion</span>

  <span class='id identifier rubyid_per_page'>per_page</span> <span class='int'>30</span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>plugin</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
    </li>
  
</ul>

  
    
    
    
    


</div>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="after_hooks-instance_method">
  
    #<strong>after_hooks</strong>  &#x21d2; <tt>Array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>List of after hooks</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


388
389
390</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 388</span>

<span class='kw'>def</span> <span class='id identifier rubyid_after_hooks'>after_hooks</span>
  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:after</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="before_hooks-instance_method">
  
    #<strong>before_hooks</strong>  &#x21d2; <tt>Array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>List of before hooks</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


379
380
381</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 379</span>

<span class='kw'>def</span> <span class='id identifier rubyid_before_hooks'>before_hooks</span>
  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:before</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="call-instance_method">
  
    #<strong>call</strong>(*args, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='[]-instance_method'>[]</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Call the command and return one or many tuples</p>

<p>This method will apply before/after hooks automatically</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 269</span>

<span class='kw'>def</span> <span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_tuples'>tuples</span> <span class='op'>=</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_hooks?'>hooks?</span>
      <span class='id identifier rubyid_prepared'>prepared</span> <span class='op'>=</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_curried?'>curried?</span>
          <span class='id identifier rubyid_apply_hooks'>apply_hooks</span><span class='lparen'>(</span><span class='id identifier rubyid_before_hooks'>before_hooks</span><span class='comma'>,</span> <span class='op'>*</span><span class='lparen'>(</span><span class='id identifier rubyid_curry_args'>curry_args</span> <span class='op'>+</span> <span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_apply_hooks'>apply_hooks</span><span class='lparen'>(</span><span class='id identifier rubyid_before_hooks'>before_hooks</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
        <span class='kw'>end</span>

      <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_prepared'>prepared</span> <span class='op'>?</span> <span class='id identifier rubyid_execute'>execute</span><span class='lparen'>(</span><span class='id identifier rubyid_prepared'>prepared</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_execute'>execute</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_curried?'>curried?</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
          <span class='id identifier rubyid_apply_hooks'>apply_hooks</span><span class='lparen'>(</span><span class='id identifier rubyid_after_hooks'>after_hooks</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
        <span class='kw'>elsif</span> <span class='id identifier rubyid_curry_args'>curry_args</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span>
          <span class='id identifier rubyid_apply_hooks'>apply_hooks</span><span class='lparen'>(</span><span class='id identifier rubyid_after_hooks'>after_hooks</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='id identifier rubyid_curry_args'>curry_args</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_apply_hooks'>apply_hooks</span><span class='lparen'>(</span><span class='id identifier rubyid_after_hooks'>after_hooks</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_apply_hooks'>apply_hooks</span><span class='lparen'>(</span><span class='id identifier rubyid_after_hooks'>after_hooks</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_execute'>execute</span><span class='lparen'>(</span><span class='op'>*</span><span class='lparen'>(</span><span class='id identifier rubyid_curry_args'>curry_args</span> <span class='op'>+</span> <span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_one?'>one?</span>
    <span class='id identifier rubyid_tuples'>tuples</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_tuples'>tuples</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="combine-instance_method">
  
    #<strong>combine</strong>(*others)  &#x21d2; <tt><span class='object_link'>Command::Graph</span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Compose this command with other commands</p>

<p>Composed commands can handle nested input</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Command::Graph</span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


328
329
330</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 328</span>

<span class='kw'>def</span> <span class='id identifier rubyid_combine'>combine</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_others'>others</span><span class='rparen'>)</span>
  <span class='const'>Graph</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_others'>others</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="curried?-instance_method">
  
    #<strong>curried?</strong>  &#x21d2; <tt>TrueClass</tt>, <tt>FalseClass</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Check if this command is curried</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>TrueClass</tt>, <tt>FalseClass</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


337
338
339</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 337</span>

<span class='kw'>def</span> <span class='id identifier rubyid_curried?'>curried?</span>
  <span class='id identifier rubyid_curry_args'>curry_args</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="curry-instance_method">
  
    #<strong>curry</strong>(*args)  &#x21d2; <tt><span class='object_link'><a href="" title="ROM::Command (class)">Command</a></span></tt>, <tt><span class='object_link'>Lazy</span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='with-instance_method'>with</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Curry this command with provided args</p>

<p>Curried command can be called without args. If argument is a graph input processor, lazy command will be returned, which is used for handling nested input hashes.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="ROM::Command (class)">Command</a></span></tt>, <tt><span class='object_link'>Lazy</span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


312
313
314
315
316
317
318</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 312</span>

<span class='kw'>def</span> <span class='id identifier rubyid_curry'>curry</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_curry_args'>curry_args</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Graph</span><span class='op'>::</span><span class='const'>InputEvaluator</span><span class='rparen'>)</span>
    <span class='const'>Lazy</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_relation'>relation</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='label'>curry_args:</span> <span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gateway-instance_method">
  
    #<strong>gateway</strong>  &#x21d2; <tt>Symbol</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return gateway of this command&#39;s relation</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


246
247
248</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 246</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gateway'>gateway</span>
  <span class='id identifier rubyid_relation'>relation</span><span class='period'>.</span><span class='id identifier rubyid_gateway'>gateway</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name-instance_method">
  
    #<strong>name</strong>  &#x21d2; <tt><span class='object_link'>ROM::Relation::Name</span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return name of this command&#39;s relation</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>ROM::Relation::Name</span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


237
238
239</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 237</span>

<span class='kw'>def</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_relation'>relation</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new-instance_method">
  
    #<strong>new</strong>(new_relation)  &#x21d2; <tt><span class='object_link'><a href="" title="ROM::Command (class)">Command</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return a new command with other source relation</p>

<p>This can be used to restrict command with a specific relation</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="ROM::Command (class)">Command</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


399
400
401</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 399</span>

<span class='kw'>def</span> <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_new_relation'>new_relation</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_new_relation'>new_relation</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='label'>source:</span> <span class='id identifier rubyid_relation'>relation</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="with_opts-instance_method">
  
    #<strong>with_opts</strong>(new_opts)  &#x21d2; <tt><span class='object_link'><a href="" title="ROM::Command (class)">Command</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return a new command with new options</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>new_opts</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A hash with new options</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="ROM::Command (class)">Command</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


348
349
350</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rom/command.rb', line 348</span>

<span class='kw'>def</span> <span class='id identifier rubyid_with_opts'>with_opts</span><span class='lparen'>(</span><span class='id identifier rubyid_new_opts'>new_opts</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_relation'>relation</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_new_opts'>new_opts</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Jan 25 19:00:32 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.24 (ruby-2.6.5).
</div>

    </div>
  </body>
</html>